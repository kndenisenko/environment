# environment

В этом репозитории собраны примеры плейбуков на Ansible по первоначальной настройке сервера на Debian. 

Перед запуском скриптов предполагается, что все они будут относиться к юзеру zx, который будет создан в первом скрипте. Имя пользователя уже зашито в первый скрипт. 

- 001_CreateUser.yml - создание юзера на удалённом сервере
- 002_SetupServer.yml - установка основного софта, копирование настроек, очистка мусора
- 003_DockerInstall.yml - установка докера

`ansible-playbook 001_CreateUser.yml --ask-vault-pass` - создать пользователя и скопировать его ssh-ключи. Дополнительно надо указать:
- пароль от хранилища с основными секретами
- новый пароль для пользователя

`ansible-playbook 002_SetupServer.yml -K --ask-vault-pass` - подготовить пользователя к работе: установить основные пакеы, установить zsh, oh-my-zsh c плагинами, starship, сменить shell, скопировать настройки и алиасы, почистить засобой. Дополнительно надо указать:
- BECOME Password
- пароль от хранилища с алиасами (а не от основных секретов)
- Название инстанса (для конфига starship)
- Желаемый уровень LA1, который будет считаться высокой нагрузкой
- git username и git email

`ansible-playbook 002_SetupServer.yml -K --ask-vault-pass` - установка Docker, добавление юзера в группу Docker, проверка установки и работы Docker без root